---
layout: blog
title: Rubyの!!(not not)というイディオムについて
tag: ruby
---



Rubyで稀に目にする`!!`というイディオムがある。
具体的には以下のように使われる。

~~~~
!!val
~~~~

このイディオムは、値`val`を真偽値に変換するものだ。
`!!`はnot演算子`!`を2つ重ねたもので、以下と同じである。

~~~~
!(!val)
~~~~

このイディオムの返却値は以下のとおり。
値が`false`か`nil`以外なら`true`を、`false`か`nil`なら`false`を返す。

~~~~
!!nil   #=> false
!!"abc" #=> true
!!false #=> false
~~~~

not演算子は値が`false`か`nil`なら`true`を返す。
これを2つ重ねて結果を反転させることで、値を真偽値に変換できるようになるのだ。
